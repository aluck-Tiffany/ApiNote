接口测试是一句咒语：准备数据-发送请求-解析响应

1. url: ip:port/

http 默认端口80

https 默认443 

2.发送请求

post: 所有参数都放在 body 中，更加安全，数据的提交，修改、删除、对比等。例如：登录，要与服务器对比用户名密码等，因此用 post.

 Get：所有参数都在 url 后明文显示。 用于筛选与查展示相关功能。

请求： 状态行：请求方法 method, 请求路径，网络协议版本

请求头： 传递数据的规则 以及附加数据

请求体：请求的数据本身

3.接收响应：

状态行：状态码、网络协议 

1xx- 5xx 

响应头：传输数据的规则，需要添加 cookie 的内容在头部设置 set-Cookie 自动保存

响应体：响应结果正文

{status:200,
data:

age:18,name:haha}

1. 长连接与短链接

基于头部中的connection配置 :keep alive 

请求处理后会不会销毁通道

1.1版本默认长连接

1. 无状态连接， Stateless ， 提升运算效率

彼此之间没有任何关系。 url1登陆， url2获取用户住处。

解决无状态连接，基于鉴权机制的

1. 鉴权机制 ： 

cookie:

本地保存的 key-value 形态的字符 串，不需要用户自主管理的内容，保存部分核心数据放在用户本地，用于提升访问速度，以及传递部分关键数据

session:

临时会话，保存用户与系统交互的所有内容，保存在服务端的一种体系。基于 sessionid 进行管理。sessionid 基于 cookie的形态返回给用户端进行管理。

session 无法共享。集群上的每个服务器上无法同步

token:

临时身份牌，基于特定格式的由加密算法生成的字符串。保存在 cookie 中。分布式，微服务中有的。保存在缓存数据库中redis

或者不保存，加密算法生成对比。

微服务架构：

1. 系统架构：
单体服务器：
集群服务器：X 台一样配置的服务器；nginx:负载均衡

集群的短板：成本浪费大，模块均相同。

模块：但前两个模块80%用户操作它。

用户管理，订单管理，库存管理，日志

分布式：将模块分布于不同的服务器上，新集群放在更重要的业务模块上。


分布式引入的概念：

异步：

网关：所有集群的入口

MQ 消息队列

RPC：（远程过程服务调用）服务器向服务器请求，例如下单与仓储两台服务器交互 ，（如果同一台服务器，那么内存之间交互 ，也就是函数与函数之间的交互 。）



Ribbon: 轮询机制，实现集群内部的负载均衡。

心跳停止会有一个 bug. 心跳机制未加保险。架构层设计实现问题。

RPC 框架体系：

stub:客户端存根， 把客户端数据均放于 stub, 进行序列化（unicode 等作二进制）

反序列化后，进入服务端存根，进行服务端。



RPC通信用到的服务提供者和消费者。

Provide⇒ consumer01, consumer02, consumer03



契约测试：生产者生成什么样的数据组给到消费端。

p.11

接口测试概述：

接口测试忽略了前端 ，直接与服务端来进行测试的一个过程。

接口是为系统提供数据服务的，所有前端可见的数据，基本上都是基于接口来获取的。

前端下发了一个请求：服务端接收，基于请求的 url 进入到指定接口，接口进行数据的解析与运算，生成响应结果，原路返回至前端 ，前端 渲染展示 在 UI 层中 。 

业内常规的接口数据传递的渠道： 网络协议。

核心的网络协议是 HTTP

TCP\HTTPS\UDP

RESTful 不是网络协议而是一个规范。

RPC 下，多元化协议，顶层协议都会封闭成 HTTP

1.HTTP 接口的访问：

通过 URL 进行访问的。

url:统一资源定位符，不同的 url 代表着不同的接口。url 很多时候包含有参数在内的。

url 结构：

网络协议：//IP:Port/PATH?ARGS=XXX&ARGS2=YYYY

p.78  postman



UI 测试

Service测试：接口自动化，数据检查

Unit测试：开发人员对代码的测试

接口四要素：接口文档， url , 请求方式，请求参数，响应
